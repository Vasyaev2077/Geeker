{% extends "base/base_app.html" %}
{% load i18n %}

{% block title %}{% trans "Сообщества" %}{% endblock %}

{% block body_class %}theme-light reddit-theme{% endblock %}

{% block app_content %}
<div class="communities-reddit">
<div class="reddit-page-title">
  <div class="reddit-page-h1">{% trans "Лучшие сообщества" %}</div>
  <div class="reddit-page-sub">{% trans "Посмотрите крупнейшие сообщества Geeker" %}</div>
</div>

<div class="reddit-communities-grid">
  {% for community in object_list %}
    <a class="reddit-community-card" href="{% url 'communities:community_detail' community.slug %}">
      <div class="reddit-community-rank">{{ forloop.counter }}</div>
      <div class="reddit-community-icon">{{ community.name|slice:":1"|upper }}</div>
      <div class="reddit-community-body">
        <div class="reddit-community-name">r/{{ community.slug }}</div>
        <div class="reddit-community-desc">
          {% if community.description %}{{ community.description|truncatewords:10 }}{% else %}{% trans "Без описания" %}{% endif %}
        </div>
        <div class="reddit-community-meta">
          {% if community.members_count %}{{ community.members_count }}{% else %}0{% endif %} {% trans "участников" %}
        </div>
      </div>
    </a>
  {% empty %}
    <div class="reddit-empty">{% trans "Пока нет сообществ." %}</div>
  {% endfor %}
</div>

{% include "base/_pagination.html" with page_obj=page_obj %}
</div>
{% endblock %}






