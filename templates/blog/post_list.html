{% extends "base/base_app.html" %}
{% load i18n %}

{% block title %}{% trans "Blog" %}{% endblock %}

{% block app_content %}
<div class="blog-layout">
  <div class="blog-main">
    {% for post in object_list %}
      <article class="blog-card">
        <h2><a href="{% url 'blog:post_detail' post.slug %}">{{ post.title }}</a></h2>
        <p class="blog-meta">{{ post.author }} Â· {{ post.published_at|date:"d.m.Y H:i" }}</p>
        <p>{{ post.content|truncatewords:40 }}</p>
      </article>
    {% empty %}
      <p>{% trans "No posts yet." %}</p>
    {% endfor %}
    {% include "base/_pagination.html" with page_obj=page_obj %}
  </div>
  <aside class="blog-sidebar">
    <h3>{% trans "Communities" %}</h3>
    <ul class="blog-community-list">
      {% for community in request.user.communities.all|slice:":8" %}
        <li>{{ community.name }}</li>
      {% empty %}
        <li>{% trans "You are not in any communities yet." %}</li>
      {% endfor %}
    </ul>
  </aside>
</div>
{% endblock %}






